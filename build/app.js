!function(e){function t(t){for(var s,a,r=t[0],h=t[1],d=t[2],c=0,g=[];c<r.length;c++)a=r[c],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&g.push(n[a][0]),n[a]=0;for(s in h)Object.prototype.hasOwnProperty.call(h,s)&&(e[s]=h[s]);for(l&&l(t);g.length;)g.shift()();return o.push.apply(o,d||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],s=!0,r=1;r<i.length;r++){var h=i[r];0!==n[h]&&(s=!1)}s&&(o.splice(t--,1),e=a(a.s=i[0]))}return e}var s={},n={0:0},o=[];function a(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=s,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(i,s,function(t){return e[t]}.bind(null,s));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var r=window.webpackJsonp=window.webpackJsonp||[],h=r.push.bind(r);r.push=t,r=r.slice();for(var d=0;d<r.length;d++)t(r[d]);var l=h;o.push([1,1]),i()}([,function(e,t,i){"use strict";i.r(t);var s=i(0),n=i.n(s);class o extends n.a.Scene{constructor(){super("PlayScene")}create(){const{height:e,width:t}=this.game.config;this.gameSpeed=10,this.isGameRunning=!1,this.respawnTime=0,this.score=0,this.jumpSound=this.sound.add("jump",{volume:.2}),this.hitSound=this.sound.add("hit",{volume:.2}),this.reachSound=this.sound.add("reach",{volume:.2}),this.startTrigger=this.physics.add.sprite(0,10).setOrigin(0,1).setImmovable(),this.ground=this.add.tileSprite(0,e,88,26,"ground").setOrigin(0,1),this.dino=this.physics.add.sprite(0,e,"dino-idle").setCollideWorldBounds(!0).setGravityY(5e3).setBodySize(44,92).setDepth(1).setOrigin(0,1),this.scoreText=this.add.text(t,0,"00000",{fill:"#535353",font:"900 35px Courier",resolution:5}).setOrigin(1,0).setAlpha(0),this.highScoreText=this.add.text(0,0,"00000",{fill:"#535353",font:"900 35px Courier",resolution:5}).setOrigin(1,0).setAlpha(0),this.environment=this.add.group(),this.environment.addMultiple([this.add.image(t/2,170,"cloud"),this.add.image(t-80,80,"cloud"),this.add.image(t/1.3,100,"cloud")]),this.environment.setAlpha(0),this.gameOverScreen=this.add.container(t/2,e/2-50).setAlpha(0),this.gameOverText=this.add.image(0,0,"game-over"),this.restart=this.add.image(0,80,"restart").setInteractive(),this.gameOverScreen.add([this.gameOverText,this.restart]),this.obsticles=this.physics.add.group(),this.initAnims(),this.initStartTrigger(),this.initColliders(),this.handleInputs(),this.handleScore()}initColliders(){this.physics.add.collider(this.dino,this.obsticles,(()=>{this.highScoreText.x=this.scoreText.x-this.scoreText.width-20;const e=this.highScoreText.text.substr(this.highScoreText.text.length-5),t=Number(this.scoreText.text)>Number(e)?this.scoreText.text:e;this.highScoreText.setText("HI "+t),this.highScoreText.setAlpha(1),this.physics.pause(),this.isGameRunning=!1,this.anims.pauseAll(),this.dino.setTexture("dino-hurt"),this.respawnTime=0,this.gameSpeed=10,this.gameOverScreen.setAlpha(1),this.score=0,this.hitSound.play()}),null,this)}initStartTrigger(){const{width:e,height:t}=this.game.config;this.physics.add.overlap(this.startTrigger,this.dino,(()=>{if(10===this.startTrigger.y)return void this.startTrigger.body.reset(0,t);this.startTrigger.disableBody(!0,!0);const i=this.time.addEvent({delay:1e3/60,loop:!0,callbackScope:this,callback:()=>{this.dino.setVelocityX(80),this.dino.play("dino-run",1),this.ground.width<e&&(this.ground.width+=34),this.ground.width>=1e3&&(this.ground.width=e,this.isGameRunning=!0,this.dino.setVelocityX(0),this.scoreText.setAlpha(1),this.environment.setAlpha(1),i.remove())}})}),null,this)}initAnims(){this.anims.create({key:"dino-run",frames:this.anims.generateFrameNumbers("dino",{start:2,end:3}),frameRate:10,repeat:-1}),this.anims.create({key:"dino-down-anim",frames:this.anims.generateFrameNumbers("dino-down",{start:0,end:1}),frameRate:10,repeat:-1}),this.anims.create({key:"enemy-dino-fly",frames:this.anims.generateFrameNumbers("enemy-bird",{start:0,end:1}),frameRate:6,repeat:-1})}handleScore(){this.time.addEvent({delay:100,loop:!0,callbackScope:this,callback:()=>{if(!this.isGameRunning)return;this.score++,this.gameSpeed+=.01,this.score%100==0&&(this.reachSound.play(),this.tweens.add({targets:this.scoreText,duration:100,repeat:3,alpha:0,yoyo:!0}));const e=Array.from(String(this.score),Number);for(let t=0;t<5-String(this.score).length;t++)e.unshift(0);this.scoreText.setText(e.join(""))}})}handleInputs(){this.restart.on("pointerdown",(()=>{this.dino.setVelocityY(0),this.dino.body.height=92,this.dino.body.offset.y=0,this.physics.resume(),this.obsticles.clear(!0,!0),this.isGameRunning=!0,this.gameOverScreen.setAlpha(0),this.anims.resumeAll()})),this.input.keyboard.on("keydown_SPACE",(()=>{!this.dino.body.onFloor()||this.dino.body.velocity.x>0||(this.jumpSound.play(),this.dino.body.height=92,this.dino.body.offset.y=0,this.dino.setVelocityY(-1600),this.dino.setTexture("dino",0))})),this.input.keyboard.on("keydown_DOWN",(()=>{this.dino.body.onFloor()&&this.isGameRunning&&(this.dino.body.height=58,this.dino.body.offset.y=34)})),this.input.keyboard.on("keyup_DOWN",(()=>{(0===this.score||this.isGameRunning)&&(this.dino.body.height=92,this.dino.body.offset.y=0)}))}placeObsticle(){const e=Math.floor(7*Math.random())+1,t=n.a.Math.Between(600,900);let i;if(e>6){const e=[20,50];i=this.obsticles.create(this.game.config.width+t,this.game.config.height-e[Math.floor(2*Math.random())],"enemy-bird").setOrigin(0,1),i.play("enemy-dino-fly",1),i.body.height=i.body.height/1.5}else i=this.obsticles.create(this.game.config.width+t,this.game.config.height,"obsticle-"+e).setOrigin(0,1),i.body.offset.y=10;i.setImmovable()}update(e,t){this.isGameRunning&&(this.ground.tilePositionX+=this.gameSpeed,n.a.Actions.IncX(this.obsticles.getChildren(),-this.gameSpeed),n.a.Actions.IncX(this.environment.getChildren(),-.5),this.respawnTime+=t*this.gameSpeed*.08,this.respawnTime>=1500&&(this.placeObsticle(),this.respawnTime=0),this.obsticles.getChildren().forEach((e=>{e.getBounds().right<0&&this.obsticles.killAndHide(e)})),this.environment.getChildren().forEach((e=>{e.getBounds().right<0&&(e.x=this.game.config.width+30)})),this.dino.body.deltaAbsY()>0?(this.dino.anims.stop(),this.dino.setTexture("dino",0)):this.dino.body.height<=58?this.dino.play("dino-down-anim",!0):this.dino.play("dino-run",!0))}}var a=o;class r extends n.a.Scene{constructor(){super("PreloadScene")}preload(){this.load.audio("jump","assets/jump.m4a"),this.load.audio("hit","assets/hit.m4a"),this.load.audio("reach","assets/reach.m4a"),this.load.image("ground","assets/ground.png"),this.load.image("dino-idle","assets/dino-idle.png"),this.load.image("dino-hurt","assets/dino-hurt.png"),this.load.image("restart","assets/restart.png"),this.load.image("game-over","assets/game-over.png"),this.load.image("cloud","assets/cloud.png"),this.load.spritesheet("star","assets/stars.png",{frameWidth:9,frameHeight:9}),this.load.spritesheet("moon","assets/moon.png",{frameWidth:20,frameHeight:40}),this.load.spritesheet("dino","assets/dino-run.png",{frameWidth:88,frameHeight:94}),this.load.spritesheet("dino-down","assets/dino-down.png",{frameWidth:118,frameHeight:94}),this.load.spritesheet("enemy-bird","assets/enemy-bird.png",{frameWidth:92,frameHeight:77}),this.load.image("obsticle-1","assets/cactuses_small_1.png"),this.load.image("obsticle-2","assets/cactuses_small_2.png"),this.load.image("obsticle-3","assets/cactuses_small_3.png"),this.load.image("obsticle-4","assets/cactuses_big_1.png"),this.load.image("obsticle-5","assets/cactuses_big_2.png"),this.load.image("obsticle-6","assets/cactuses_big_3.png")}create(){this.scene.start("PlayScene")}}var h=r;const d={type:n.a.AUTO,width:1e3,height:340,pixelArt:!0,transparent:!0,physics:{default:"arcade",arcade:{debug:!1}},scene:[h,a]};new n.a.Game(d)}]);